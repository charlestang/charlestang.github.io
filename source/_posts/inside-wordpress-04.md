---
title: WordPress到底在整啥？—(04)
tags:
  - code reading
  - WordPress
id: '105'
categories:
  - - WordPress
date: 2008-06-30 19:44:29
---

如果用一条大河来比喻这个WP的话，那么前几次，我们还在此河的源头，代码简单明确，有如涓涓细流的小溪，从wp-settings.php开始，我们已经来到了此河干流，大片的代码，来到了我们的眼前，简直波涛汹涌，不过呢，再怎么多的代码，总归还得顺序执行，幸好这个WP不是多线程（哎呀，这话说得有点武断了，因为我真的没有看完呢^^）。
<!-- more -->
### 踏上征途

这里没有沿用前面几篇笔记的标题了，不用wp-settings.php来做标题，我这里简单解释一下，这个wp-settings.php在我看来，已经把WP最后产生出一个可供人们浏览的网页的之前的所有工作都做完了，当然也是靠着require之类的东西，引用别的文件做的，但是，真的做了许许多多的事情。如果我用这个wp-settings.php做标题，就得一直在这个标题下面，没完没了，直到把整个WP一遍跑到差不多80%了才能跳出这个标题，那多累啊。我没有那种一气呵成的水平，和能力，所以，我决定，以wp-settings.php为一个提纲，按照它规定的顺序和路线图，遇山开路，遇水架桥，逐步走完我们通览WP源代码的长征。

### 怎么走法？

其实，看一大陀的代码，是一件很累人的事情，但是我们想要揭示一下WP的内部运行机理，倒是非得麻烦一下不可，我看了有一些东西了，至少已经3个源码文件了嘛，还是有点心得的，有时候，我们看到上千行代码，总是会马上信心受挫，因为，很简单，真的很多。其实，这么多的东西，大都是支线剧情而已，打一个RPG，我的习惯是先赶快打一遍，把所有的主线剧情都打完，然后再从头开始，逐个地研究支线剧情，估计我们开代码也是如此。

一大堆代码里面，夹杂着许许多多的function xxxx(){}，这个东西叫做函数定义，不叫做函数执行，其实，函数定义在我看来，就应该算是支线剧情了，记住个名字，记住地点，ok了，我们可以先走开，会主线剧情。当然，有的时候，我们真的会判断失误，就是一个剧情其实不是支线剧情，因为走下去的时候，我们发现过不去了，这时候在折回来不迟。

所以，总结一下我们走下去的方法就是：曲折式前进，螺旋式上升。

啥还没说呢，就废了一堆话，唉，……，88