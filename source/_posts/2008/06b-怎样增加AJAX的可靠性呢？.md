---
title: 怎样增加AJAX的可靠性呢？
tags:
  - ajax
  - javascript
  - jQuery
id: '93'
categories:
  - - 生活
    - 日记
permalink: how-to-use-ajax-correctly/
date: 2008-06-14 16:19:20
---

本篇文章不是我的经验介绍，而是我的疑问。我写在这里，希望高手看到了能指点一二，而同样迷惑的人看到了，能参与讨论。

我没有系统地学过javascript，也没有系统地学习过ajax，我只是在兴趣的驱使下，在学习一些jQuery的使用。所以，我几乎对任何问题都很迷惑，而在这些问题中，我最迷惑的就是ajax的可靠性问题。
<!-- more -->
我说的可靠性问题不是指安全问题，而是说，怎么确保一个页面以设计师希望的那种模样出现在用户的面前。就比如我的页面上使用了Ajax加载了部分内容，但是，是否每个人都能正确地看到我的完整页面呢？这个问题，我是回答不了的。其实，我自己使用IE7浏览器，就总是不能看到我自己的页面正确地全部加载。那么，在真正的商用应用中，这种可靠性是怎么被保证的呢？或者说极大程度的保证。

重试机制，如果ajax加载的内容失效，那么应该捕获这个错误，然后进行重试。我在网上看到过关于这个的介绍。但是，我的疑问是，重试多少次呢？5次？10次？不停地重试？要知道，一次ajax加载失败的原因是多种多样的，有可能是刚巧这个时候网络不畅，有可能这个地方的网络总是不畅，比如我自己所在的地方，还有可能是碰巧超时……有些情况，重试个一两次就能解决，但是也不知道到底是几次，还有些地方是根本解决不了的。怎样区分对待这些情况，给用户最好的体验呢？

如果禁止javascript，又怎样保证用户的体验不会太差呢？这又是一个难题，对待这个问题，我目前的看法是，这个问题最后再去考虑，其实大多数用户都是启用了javascript的，虽说现在很多网页的流氓软件都是在看网页的时候用js干坏事的，但是javascript只是被坏人利用了，没必要一棍子打死，我想大多数用户也应该不愿意看到一个因为缺少了js而变得枯燥乏味的互联网。所幸的是，很多杀毒软件，防流氓软件的出现，都有了区别对待的机制，一般都允许打开js，而在危险的时候预警。不过，这个社会总是少不了“别里科夫”的，对于技术和时间都实在有限的我，只有最后再去关心他们的感受啦……